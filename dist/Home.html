<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./CSS/homePage.css">
    <!-- <link href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-beta1/css/bootstrap.min.css" rel="stylesheet"> -->
    <title>Home</title>
</head>
<body>
    <nav>
        <div class="nav-div1">
            <img src="./assets/splash-homepage-logo.png" alt="">
        </div>

        <div class="nav-div2">
            <ul>
                <li><a href="./Home.html">Home</a></li>
                <li><a href="./Packages.html">Packages</a></li>
                <li><a href="./Bookings.html">Booking</a></li>
                <li><a href="./Contact.html">Contact Us</a></li>
            </ul>
        </div>

        <div class="nav-div3">
            <button class="logout">Logout</button>
            <button class="btn btn-outline-success" type="button" id="signOutBtn">Sign Out</button>
        </div>
    </nav>

    <!-- image section -->
    <section id="section-img">
        <div class="video-wrapper">
            <video autoplay loop muted>
                <source id="video-source" src="./assets/6872068-uhd_3840_2160_25fps.mp4" type="video/mp4">
            </video>
        </div>
    </section>

        <!-- <img src="./assets/6872068-uhd_3840_2160_25fps.mp4" alt="">
        <img src="./assets/6872474-uhd_2160_3840_25fps.mp4" alt="">
        <img src="./assets/6873328-uhd_2160_3840_25fps.mp4" alt="">
        <img src="./assets/6873496-uhd_2160_3840_25fps.mp4" alt=""> -->
    </section>
    <!-- end of image section -->
    

   

    <!-- <li>
        <a href="">Disabled</a>
    </li> -->
    

    <h2 id="msg">Welcome</h2>
    <h2 id="greet">Hello Welcome</h2>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="./bundle.js"></script>
    <script>
        let userCreds = JSON.parse(localStorage.getItem("user-cred"));
        let userInfo = JSON.parse(localStorage.getItem("user-info"));

        let MsgHead = $("#msg");
        let GreetHead = $("#greet");
        let SignOutBtn = $("#signOutBtn");

        // MsgHead.innerText = `user with email ${userCreds.email} is logged in`;
        // GreetHead.innerText = `Welcome ${userInfo.firstName} ${userInfo.lastName}`;

        let SignOut = () => {
            sessionStorage.removeItem("user-creds");
            sessionStorage.removeItem("user-info");
            window.location.href = "../dist/Login.html";
        }

        let CheckCred = () => {
            if (sessionStorage.getItem("user-creds"))
            window.location.href = "../dist/Login.html"

            else {
                if (userCreds) {
            MsgHead.innerText = `user with email ${userCreds.email} is logged in`;
            GreetHead.innerText = `Welcome ${userInfo.firstName} ${userInfo.lastName}`;
        }
            }
        }


        let videos = [
    "./assets/6872068-uhd_3840_2160_25fps.mp4",
    "./assets/6872474-uhd_2160_3840_25fps.mp4",
    "./assets/6873328-uhd_2160_3840_25fps.mp4",
    "./assets/6873496-uhd_2160_3840_25fps.mp4"
    // "./assets/12370189-hd_720_1280_30fps.mp4"
];
 
function changeVideo() {
    let $video = $('video');
    let $videoSource = $('#video-source');
    let randomVideo = videos[Math.floor(Math.random() * videos.length)];
    console.log("Random video selected: ", randomVideo); // Log the selected video
    $videoSource.attr('src', randomVideo);
    $video[0].load(); // Load the new source
    $video[0].play(); // Play the video
}


$(document).ready(function() {
    changeVideo();
    // Add event listener for 'ended' event on the video
    $('video')[0].addEventListener('ended', changeVideo);
});


        window.addEventListener("load", CheckCred);
        SignOutBtn.click(SignOut);
    </script>
    <!-- <script src="../src/home.js"></script> -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script> -->
</body>
</html>